{"ast":null,"code":"var _jsxFileName = \"/Users/russellcoke/Documents/Dev/CovidDash/covid-dash/src/Components/MapCard.js\";\nimport React, { Component } from 'react';\nimport { ComposableMap, ZoomableGroup, Geographies, Geography, Markers, Marker, Sphere, Graticule } from \"react-simple-maps\";\nimport { scaleLinear } from \"d3-scale\";\nimport data from \"./data/dataset-json.json\";\n\nclass MapCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      marker: null,\n      geoUrl: \"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json\",\n      data: data\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.lat !== 999) {\n      this.setState({\n        marker: {\n          markerOffset: 25,\n          name: this.props.dest,\n          coordinates: [this.props.lon, this.props.lat]\n        }\n      });\n    }\n  }\n\n  render() {\n    const colorScale = scaleLinear().domain([0.29, 0.68]).range([\"#ffedea\", \"#ff5233\"]);\n    const wrapperStyles = {\n      height: \"100%\",\n      width: \"100%\",\n      margin: \"0 auto\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"small-card\",\n      id: this.props.cid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: wrapperStyles,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ComposableMap, {\n      projectionConfig: {\n        rotate: [-10, 0, 0],\n        scale: 147\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Sphere, {\n      stroke: \"#E4E5E6\",\n      strokeWidth: 0.5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Graticule, {\n      stroke: \"#E4E5E6\",\n      strokeWidth: 0.5,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }\n    }), this.state.data.length > 0 && /*#__PURE__*/React.createElement(Geographies, {\n      geography: this.state.geoUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }\n    }, ({\n      geographies\n    }) => geographies.map(geo => {\n      // const d = this.state.data.find(s => s.ISO3 === geo.properties.ISO_A3);\n      return /*#__PURE__*/React.createElement(Geography, {\n        key: geo.rsmKey,\n        geography: geo // fill={d ? colorScale(d[\"2017\"]) : \"#F5F4F6\"}\n        ,\n        fill: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 33\n        }\n      });\n    })), /*#__PURE__*/React.createElement(Markers, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, this.state.marker != null ? /*#__PURE__*/React.createElement(Marker, {\n      marker: this.state.marker,\n      style: {\n        default: {\n          fill: \"#D47D20\"\n        },\n        hover: {\n          fill: \"#FFFFFF\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"circle\", {\n      cx: 0,\n      cy: 0,\n      r: 7,\n      style: {\n        stroke: \"#D47D20\",\n        strokeWidth: 3,\n        opacity: 0.9\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"text\", {\n      textAnchor: \"middle\",\n      y: this.state.marker.markerOffset,\n      style: {\n        fontFamily: \"Roboto, sans-serif\",\n        fill: \"#D47D20\",\n        fontWeight: 800\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 33\n      }\n    }, this.state.marker.name)) : null))));\n  }\n\n}\n\nexport default MapCard;","map":{"version":3,"sources":["/Users/russellcoke/Documents/Dev/CovidDash/covid-dash/src/Components/MapCard.js"],"names":["React","Component","ComposableMap","ZoomableGroup","Geographies","Geography","Markers","Marker","Sphere","Graticule","scaleLinear","data","MapCard","constructor","props","state","marker","geoUrl","componentDidMount","lat","setState","markerOffset","name","dest","coordinates","lon","render","colorScale","domain","range","wrapperStyles","height","width","margin","cid","rotate","scale","length","geographies","map","geo","rsmKey","default","fill","hover","stroke","strokeWidth","opacity","fontFamily","fontWeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { ComposableMap, ZoomableGroup, Geographies, Geography, Markers, Marker, Sphere, Graticule} from \"react-simple-maps\"\nimport { scaleLinear } from \"d3-scale\";\nimport data from \"./data/dataset-json.json\"\n\nclass MapCard extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            marker: null,\n            geoUrl : \"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json\",\n            data: data\n        }\n    }\n\n    componentDidMount(){\n        if(this.props.lat !== 999){\n            this.setState({\n                marker : {markerOffset: 25, name: this.props.dest, coordinates: [this.props.lon, this.props.lat]}\n            });\n        }\n    }\n\n    render(){        \n        const colorScale = scaleLinear()\n            .domain([0.29, 0.68])\n            .range([\"#ffedea\", \"#ff5233\"]);\n\n        const wrapperStyles = {\n            height: \"100%\",\n            width: \"100%\",\n            margin: \"0 auto\",\n        }\n\n        return (\n            <div className='small-card' id={this.props.cid}>\n                <div style={wrapperStyles}>\n                    <ComposableMap\n                    projectionConfig={{\n                        rotate: [-10, 0, 0],\n                        scale: 147\n                    }}\n                    >\n                    <Sphere stroke=\"#E4E5E6\" strokeWidth={0.5} />\n                    <Graticule stroke=\"#E4E5E6\" strokeWidth={0.5} />\n                    {this.state.data.length > 0 && (\n                        <Geographies geography={this.state.geoUrl}>\n                        {({ geographies }) =>\n                            geographies.map(geo => {\n                            // const d = this.state.data.find(s => s.ISO3 === geo.properties.ISO_A3);\n                            return (\n                                <Geography\n                                key={geo.rsmKey}\n                                geography={geo}\n                                // fill={d ? colorScale(d[\"2017\"]) : \"#F5F4F6\"}\n                                fill\n                                />\n                            );\n                            })\n                        }\n                        </Geographies>\n                    )}\n                    <Markers>\n                            {this.state.marker != null ?\n                                <Marker\n                                marker={this.state.marker}\n                                style={{\n                                    default: { fill: \"#D47D20\" },\n                                    hover: { fill: \"#FFFFFF\" },\n                                }}\n                                >\n                                <circle\n                                    cx={0}\n                                    cy={0}\n                                    r={7}\n                                    style={{\n                                    stroke: \"#D47D20\",\n                                    strokeWidth: 3,\n                                    opacity: 0.9,\n                                    }}\n                                />\n                                <text\n                                    textAnchor=\"middle\"\n                                    y={this.state.marker.markerOffset}\n                                    style={{\n                                    fontFamily: \"Roboto, sans-serif\",\n                                    fill: \"#D47D20\",\n                                    fontWeight: 800\n                                    }}\n                                >\n                                {this.state.marker.name}\n                                </text>\n                                </Marker>\n                                \n                            : null}\n                        </Markers>\n                    </ComposableMap>\n                </div>\n                \n            </div>\n        )\n    }\n}\n\nexport default MapCard;"]},"metadata":{},"sourceType":"module"}